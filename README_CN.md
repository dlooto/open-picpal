# OpenPicPal

OpenPicPal是一个用于图片训练和自动分类的开源软件项目。

作为一个Python项目，OpenPicPal基于InceptionV3基础模型和自有的图片数据集，可训练出需要的图片分类模型，然后基于结果模型进行图片自动分类。

本图片分类项目，主要关键步骤为：
1. 选择一个基础模型，如本项目以InceptionV3为基础模型（考虑到其在准确率和运行性能上的均衡，参数不算多）
2. 图片数据的准备：训练、验证、测试等所用的图片集
3. 训练图片集，生成需要的结果模型
4. 使用结果模型进行分类/预测

## 数据准备
图片数据来源，可根据自身业务需要，从互联网上搜索开源数据集，或自行写爬虫获取。

将准备好的图片数据，存入以下目录结构中:
```
data/
    |__saved_model/     # 训练结束后的模型文件存放目录
    |__train/           # 训练图片集存入此目录下的各子目录中
        |__book             
        |__cat              
        |__digit            
        |__movie            
        ……
    |__validation/      # 验证图片集, 注意保持与train目录中同样的子目录结构
```    

#### 图片集配置
* `train`各子目录中存放对应类别的图片文件，如`book/`目录下存放所有关于图书的图片
* 有多少个分类就要准备多少个子目录的图片
* 从`train`各子目录里挑选约1/4 ~ 1/3的图片数量放入`validation`对应子目录里。如`train/book/`中有100张图片，则可以考虑从中取出25张图片放入`validation/book/`目录，形成验证图片集。
* 应确保`validation`子目录数量与`train`中子目录数量一致，且维持一定的比例关系（如保持验证集图片量为训练集图片量的1/4 ~ 1/3）
* 一般来说，图片量越大分类效果越好，但考虑到训练时间及性能，应根据业务情况选择图片量
* 如果有新的分类，则增加新的子目录放于`train`和`validation`里

#### 分类标签配置

```python
CLASS_LABELS = {
    0: "book",
    1: "cat",
    2: "digit",
    3: "movie",
}
```
如上所示，标签名应与train和validation里子目录名保持一致. 比如你可以修改标签"book"为"books", 但应确保train、validation里的子目录也一并修改。

## 
